name: CI

on:
  workflow_dispatch:
  push:
    branches:
      - main
      - develop
      - feature

jobs:
  LINTER:
    if: github.event.action != 'closed' && (startsWith(github.head_ref, 'develop') || startsWith(github.head_ref, 'hotfix'))
    uses: ./.github/workflows/_linter.yml

  CORE_WEB_VITALS:
    needs: LINTER
    uses: ./.github/workflows/_lighthouse.yml
