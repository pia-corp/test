name: CI

on:
  workflow_dispatch:
  pull_request:
    branches:
      - main
    types: [edited, reopened, synchronize]
    paths:
      - '**'

jobs:
  LINTER:
    if: github.event.action != 'closed' && (startsWith(github.head_ref, 'develop') || startsWith(github.head_ref, 'hotfix'))
    uses: ./.github/workflows/_linter.yml

  CORE_WEB_VITALS:
    needs: LINTER
    uses: ./.github/workflows/_lighthouse.yml
