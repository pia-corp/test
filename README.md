<p align="center">
  ![faloom](https://github.com/pia-corp/test/blob/2cfb19309c1e8079541176533cdc815428a7f5b1/images/assets/icon-180x180.png)
</p>

# ãƒ•ã‚¡ã‚¤ãƒ«ã®å–å¾—

ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ”ãƒ¼ã‚’ä½œæˆã—ã¦ä½œæ¥­ã‚’é€²ã‚ã¦ãã ã•ã„ã€‚
ä½œæ¥­ã¯å¿…ãšãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚mainãƒ–ãƒ©ãƒ³ãƒã§ã®ãƒ—ãƒƒã‚·ãƒ¥ã¯å—ã‘ä»˜ã‘ã¦ãŠã‚Šã¾ã›ã‚“ã€‚

```bash
git clone https://github.com/pia-corp/faloom.jp.git
```

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

- ä½œæ¥­ã¯developãƒ–ãƒ©ãƒ³ãƒä¸Šã§è¡Œã£ã¦ãã ã•ã„ã€‚developã‹ã‚‰å…ˆã«featureãƒ–ãƒ©ãƒ³ãƒç­‰ã‚’åˆ‡ã‚‹ã®ã¯è‡ªç”±ã§ã™ã€‚
- ãƒªãƒªãƒ¼ã‚¹æº–å‚™ãŒæ•´ã£ãŸã‚‰mainãƒ–ãƒ©ãƒ³ãƒã«pushã—ã¦ãã ã•ã„ã€‚
- pushäº‹é …äº”ã«ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ãƒã‚§ãƒƒã‚¯ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ä¿®æ­£ã—ã¦
- ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ã‚’ã‚¯ãƒªã‚¢ã—ãŸã‚‰æ‹…å½“è€…ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã—ã¾ã™ã€‚

### ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯

ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ãƒ†ã‚¹ãƒˆã™ã‚‹å ´åˆã¯ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ç¢ºèªãŒã§ãã¾ã™ã€‚
ãƒã‚§ãƒƒã‚¯å†…å®¹ã¯[CODECHECK.md](https://github.com/pia-corp/test)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```bash
npm run lint
```

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

## é–‹ç™ºç”¨

é–‹ç™ºç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã«ã‚ã‚Šã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å«ã¿ã¾ã™ã€‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã‚’è¡Œã†å ´åˆã¯ src ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’é…ç½®ã—ã¦ãã ã•ã„ã€‚

```sh
â””â”€â”€ project/
    â”œâ”€â”€ .github/
    â”œâ”€â”€ images/
    â”œâ”€â”€ out/
    â”‚   â”œâ”€â”€ index.html
    â”‚   â”œâ”€â”€ sitemap.xml
    â”‚   â”œâ”€â”€ manifest.webmanifest
    â”‚   â””â”€â”€ contact/
    â”‚       â””â”€â”€ index.html
    â”œâ”€â”€ .gitignore
    â”œâ”€â”€ package.json
    â””â”€â”€ README.md
```

1. **`.github`**: github workflowç”¨

2. **`images/`**: githubã§ä½¿ã†ç”»åƒ

3. **`out/`**: ãƒ‡ãƒ—ãƒ­ã‚¤ç”¨ã®HTMLã€JavaScriptã€CSSãªã©ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ ¼ç´ã—ã¾ã™ã€‚

4. **`README.md`**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ¦‚è¦ã‚„ä½¿ã„æ–¹ã‚’èª¬æ˜ã—ã¾ã™ã€‚


## ã‚µãƒ¼ãƒå´

```sh
â””â”€â”€ pc/
    â”œâ”€â”€ index.html
    â”œâ”€â”€ sitemap.xml
    â”œâ”€â”€ manifest.webmanifest
    â””â”€â”€ contact/
        â””â”€â”€ index.html
```

1. **`index.html`**:

2. **`sitemap.xml`**: XML ã‚µã‚¤ãƒˆãƒãƒƒãƒ—

3. **`manifest.webmanifest`**: ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚

4. **`contact/index.html`**: ãŠå•ã„åˆã‚ã›ãƒšãƒ¼ã‚¸ã®Smartyãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚

- pcãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚
- contactãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã™ã‚‹ã“ã¨ã¯ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚ãŠå•ã„åˆã‚ã›ãƒšãƒ¼ã‚¸ã§ä½¿ç”¨ã™ã‚‹å¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ã¯contactãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å¤–ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚ä¾‹: images/contact/

# ãŠå•ã„åˆã‚ã›ãƒšãƒ¼ã‚¸

Smarty ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨ã€‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚°ã‚’è¨˜è¿°ã—ãŸ index.html ã‚’ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚

## smarty å¤‰æ•°

### ç”»é¢

| variable                          | type   | æ¦‚è¦                                                        |
| --------------------------------- | ------ | ----------------------------------------------------------- |
| $viewArray.view_mode              | string | view_input = å…¥åŠ›ç”»é¢ and å®Œäº†ç”»é¢, view_confirm = ç¢ºèªç”»é¢ |
| $viewArray.is_mail_send_completed | number | ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡å®Œäº†ç”»é¢ã‚’è¡¨ç¤º                                |

### ã‚¨ãƒ©ãƒ¼

| variable                                         | type   | æ¦‚è¦                                                                           |
| ------------------------------------------------ | ------ | ------------------------------------------------------------------------------ |
| $viewArray.exists_mail_send_error                | string | å°‘ãªãã¨ã‚‚ 1 ã¤ä»¥ä¸Šã®ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ã‚µãƒ¼ãƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸                            |
| $viewArray.form_dataArray.inquiry_type           | number | 0 = å•†å“ã«ã¤ã„ã¦, 1 = å¸å£²ã‚Šãƒ»è²©å£²ã«ã¤ã„ã¦, 2 = å–æãªã©, 3 = åºƒå ±, 4 = ãã®ä»– |
| $viewArray.input_check_errorArray.inquiry_type   | string | å•ã„åˆã‚ã›é …ç›®ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ã‚µãƒ¼ãƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸                                   |
| $viewArray.input_check_errorArray.name           | string | æ°åã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ã‚µãƒ¼ãƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸                                             |
| $viewArray.input_check_errorArray.telephone      | string | é›»è©±ç•ªå·ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ã‚µãƒ¼ãƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸                                         |
| $viewArray.input_check_errorArray.email          | string | ãƒ¡ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ã‚µãƒ¼ãƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸                                           |
| $viewArray.input_check_errorArray.message        | string | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ã‚µãƒ¼ãƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸                                       |
| $viewArray.input_check_errorArray.privacy_policy | string | å€‹äººæƒ…å ±ä¿è­·æ–¹é‡ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ã‚µãƒ¼ãƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸                                 |

## HTML ã‚¿ã‚°

### å…¥åŠ›ç”»é¢

| tag   | name å€¤                   | value                                    | æ¦‚è¦                     |
| ----- | ------------------------- | ---------------------------------------- | ------------------------ |
| input | form_data[name]           | $viewArray.form_dataArray.name           | åå‰                     |
| input | form_data[company]        | $viewArray.form_dataArray.company        | ä¼šç¤¾å                   |
| input | form_data[telephone]      | $viewArray.form_dataArray.telephone      | é›»è©±ç•ªå·                 |
| input | form_data[email]          | $viewArray.form_dataArray.email          | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹           |
| input | form_data[message]        | $viewArray.form_dataArray.message        | å•ã„åˆã‚ã›å†…å®¹           |
| input | form_data[privacy_policy] | $viewArray.form_dataArray.privacy_policy | å€‹äººæƒ…å ±ä¿è­·æ–¹é‡ã¸ã®åŒæ„ |

â€»input ã® value ã«å…¥ã‚Œã‚‹å¤‰æ•°ã¯ä¿®æ­£ç”»é¢ã§å…¥åŠ›ã—ãŸå†…å®¹ã‚’è¡¨ç¤ºã™ã‚‹ã€‚

### ç¢ºèªç”»é¢

| tag  | variable                                  | æ¦‚è¦                   |
| ---- | ----------------------------------------- | ---------------------- |
| ä»»æ„ | $viewArray.confirm_dataArray.inquiry_type | é¸æŠã—ãŸå•ã„åˆã‚ã›é …ç›® |
| ä»»æ„ | $viewArray.confirm_dataArray.name         | å…¥åŠ›ã—ãŸåå‰           |
| ä»»æ„ | $viewArray.confirm_dataArray.company      | å…¥åŠ›ã—ãŸä¼šç¤¾å         |
| ä»»æ„ | $viewArray.confirm_dataArray.telephone    | å…¥åŠ›ã—ãŸé›»è©±ç•ªå·       |
| ä»»æ„ | $viewArray.confirm_dataArray.email        | å…¥åŠ›ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ |
| ä»»æ„ | $viewArray.confirm_dataArray.message      | å…¥åŠ›ã—ãŸå•ã„åˆã‚ã›å†…å®¹ |

## javascript

smarty ã‚¿ã‚°å†…ã§ javasrcipt ã‚’ä½¿ã†å ´åˆã¯ **{literal}** ã§å›²ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```jsx
{literal}
<script>
</script>
{/literal}
```

# Code Sample

## Google Tag Manager

```javascript
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-WD2QTHHH');</script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MWVZTTSB"height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
```

## é€ä¿¡å®Œäº†ç”»é¢

å¤šé‡é€ä¿¡å¯¾ç­–ã®ã‚³ãƒ¼ãƒ‰ã€‚â€»æš«å®šå¯¾ç­–ä¸­

```jsx
{literal}<script>"use strict";history.pushState(null, null, location.href);window.addEventListener('popstate', (e) => {history.go(1);});</script>{/literal}
```

## microCMS

ãƒã‚¤ã‚¯ãƒ­ CMS ã®ãŠçŸ¥ã‚‰ã›ä¸€è¦§ç”¨ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚å¿…è¦ã«å¿œã˜ã¦æ”¹å¤‰ã—ã¦ãã ã•ã„ã€‚

```javascript
const API_KEY = "XXXXX"; // APIã‚­ãƒ¼
const ENDPOINT = "https://XXXXX.microcms.io/api/v1/news"; // microCMSã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
const TARGET_SELECTOR = ".news_list"; // è¡¨ç¤ºå…ˆã®è¦ç´ ã®ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼
const MAX_COUNT = 3; // è¡¨ç¤ºã™ã‚‹ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®æœ€å¤§æ•°

// æ—¥ä»˜ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹é–¢æ•°
function formatDate(date) {
  return `${date.getFullYear()}.${date.getMonth() + 1}.${date.getDate()}`;
}

// ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰HTMLã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°
function createNewsHtml(news) {
  const newsDate = formatDate(new Date(news.publishedAt));
  const newsTitle = news.title;
  const newsImage = news.image;
  const newsUrl = news.url;
  const isExternal = news.external;

  let newsHtml = "";

  if (newsUrl) {
    if (isExternal) {
      newsHtml = `
        <p>${newsDate}</p>
        <a href="${newsUrl}" title="${newsTitle}" target="_blank">${newsTitle}</a>
      `;
    } else {
      newsHtml = `
        <p>${newsDate}</p>
        <a href="${newsUrl}" title="${newsTitle}">${newsTitle}</a>
      `;
    }
  } else {
    newsHtml = `
      <p>${newsDate}</p>
      <p>${newsTitle}</p>
    `;
  }

  return newsHtml;
}

// ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã™ã‚‹é–¢æ•°
function fetchAndDisplayNews() {
  fetch(ENDPOINT, {
    headers: {
      "X-MICROCMS-API-KEY": API_KEY,
    },
  })
    .then((response) => response.json())
    .then((json) => {
      const newsData = json.contents;
      const targetElement = document.querySelector(TARGET_SELECTOR);
      const count = Math.min(MAX_COUNT, newsData.length);

      for (let i = 0; i < count; i++) {
        const newsHtml = createNewsHtml(newsData[i]);
        targetElement.insertAdjacentHTML("beforeend", newsHtml);
      }
    })
    .catch((error) => {
      console.error("Error fetching news:", error);
    });
}

// ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®å–å¾—ã¨è¡¨ç¤º
fetchAndDisplayNews();
```

### ãƒ–ãƒ©ãƒ³ãƒ‰ã‚µã‚¤ãƒˆç”¨

| é …ç›®     | å€¤                                      |
| -------- | --------------------------------------- |
| apiKey   |     |
| endpoint | https://faloom.microcms.io/api/v1/news |

### ã‚«ã‚¹ã‚¿ãƒ å¤‰æ•°

| å¤‰æ•°å       | å‹      | èª¬æ˜                                         | ã‚µãƒ³ãƒ—ãƒ«                 |
| ----------- | ------- | ------------------------------------------- | ----------------------- |
| id          | String  | ä½œæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã® IDã€‚                   | ag7iz3olfn                 |
| createdAt   | UTC     | åˆå›ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆã—ãŸæ—¥æ™‚ã€‚            | 2024-03-01T01:48:10.626Z   |
| updatedAt   | UTC     | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ›´æ–°ã—ãŸæ—¥æ™‚ã€‚                  | 2024-03-01T02:02:50.176Z   |
| publishedAt | UTC     | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å…¬é–‹ã—ãŸæ—¥æ™‚ã€‚                  | 2024-03-01T01:48:10.626Z   |
| revisedAt   | UTC     | å…¬é–‹çŠ¶æ…‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒæ›´æ–°ã•ã‚ŒãŸæ—¥æ™‚ã€‚      | 2024-03-01T02:02:50.176Z   |
| title       | String  | ã‚¿ã‚¤ãƒˆãƒ«                                    | ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¿ã‚¤ãƒˆãƒ«æ–‡å­—       |
| url         | String  | ãƒªãƒ³ã‚¯å…ˆã® URL                              | https://www.pia-corp.co.jp |
| image       | String  | https://document.microcms.io/image-api/size | https://xxxxxx/sample.png  |
| external    | boolean | å¤–éƒ¨ã‚µã‚¤ãƒˆã‹ã©ã†ã‹                          | true / false               |

â€»å®Ÿè£…æ™‚ã¯ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒ­ã‚°å‡ºåŠ›ã‚’å‰Šé™¤ã—ã‚µãƒ³ãƒ—ãƒ«ã¯å¿…è¦ã«å¿œã˜ã¦æ”¹å¤‰ã—ã¦ãã ã•ã„ã€‚

### microCMSãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

https://document.microcms.io/

# ãã®ä»–

- SFTP ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œã€ã‚µãƒ¼ãƒã«åæ˜ ã•ã‚Œã‚‹ã®ã¯æœ€é•· 1 åˆ†é–“ã‹ã‹ã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚
- php ã‚³ãƒ¼ãƒ‰ã‚„ php ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½¿ç”¨ã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

## ç”»åƒæ‹¡å¼µå­

- jpg
- gif
- png
- svg
- webp

ãƒ™ã‚¯ã‚¿ãƒ¼å½¢å¼ã§å‡ºåŠ›ã§ãã‚‹å ´åˆã¯ svg ã§æ›¸ãå‡ºã—ã€‚ãã†ã§ãªã‘ã‚Œã° webp ç­‰ã®å½¢å¼ã«ã—ã¦ãã ã•ã„ã€‚

ğŸï¸ svg ã§å‡ºåŠ›ã™ã‚‹å ´åˆã€ç‰¹ã«ç†ç”±ãŒãªã‘ã‚Œã° webp ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
ç”»åƒã®ç¸¦æ¨ªã‚µã‚¤ã‚ºã¯æœ€é©åŒ–ã—ã€å®¹é‡åœ§ç¸®ã—ã¦ãã ã•ã„ã€‚

## ãƒ•ã‚¡ãƒ“ã‚³ãƒ³

- favicon.ico
- icon.svg
- apple-touch-icon.png
- icon-192.png
- icon-512.png

## æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—

ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ã¯ JSON-LD å½¢å¼ã§è¨˜è¿°ã€‚

[æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—](https://developers.google.com/search/docs/appearance/structured-data/search-gallery?hl=ja)

[ãƒªãƒƒãƒãƒªã‚¶ãƒ«ãƒˆ ãƒ†ã‚¹ãƒˆ](https://search.google.com/test/rich-results?utm_source=support.google.com/webmasters/&utm_medium=referral&utm_campaign=7445569)
