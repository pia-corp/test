<img src="images/assets/logo.png" width="320" height="132">

[![npm version](https://img.shields.io/npm/v/react.svg?style=flat)](https://www.npmjs.com/package/react)
[![FILE UPLOAD](https://github.com/pia-corp/test/actions/workflows/upload.yml/badge.svg)](https://github.com/pia-corp/test/actions/workflows/upload.yml)
[![Deploy](https://github.com/pia-corp/test/actions/workflows/deploy.yml/badge.svg?branch=main&event=workflow_dispatch)](https://github.com/pia-corp/test/actions/workflows/deploy.yml)

![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white)
![CSS](https://img.shields.io/badge/CSS-239120?&style=for-the-badge&logo=css3&logoColor=white)
![JAVASCRIPT](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)
![Next.js](https://img.shields.io/badge/-Next.js-000000.svg?logo=next.js&style=for-the-badge)

# ãƒ•ã‚¡ã‚¤ãƒ«ã®å–å¾—

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¦ãã ã•ã„ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ”ãƒ¼ãŒä½œæˆã•ã‚Œã¾ã™ã€‚ä½œæ¥­ã‚’é€²ã‚ã‚‹å‰ã«ã€å¿…ãšæ–°ã—ã`develop/â€»â€»â€»â€»`ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
2. developãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰åˆ¥ã®ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚‹ã“ã¨ã¯å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€mainã¸ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡ºã™å ´åˆã¯developãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ã®ã¿å—ã‘ä»˜ã‘ã¾ã™ã€‚

```bash
git clone https://github.com/pia-corp/faloom.jp.git
```

## ãƒ–ãƒ©ãƒ³ãƒåãƒ«ãƒ¼ãƒ«
ä»¥ä¸‹ã®ãƒ–ãƒ©ãƒ³ãƒåã ã‘ãŒè¨±å¯ã•ã‚Œã¦ã¾ã™ã€‚
develop/
feature/

â€» mainã¸ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡ºã™å ´åˆã¯developãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ã®ã¿å—ã‘ä»˜ã‘ã¾ã™ã€‚

### ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯

ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ãƒ†ã‚¹ãƒˆã™ã‚‹å ´åˆã¯ä»¥ä¸‹ã®scriptã§ç¢ºèªãŒã§ãã¾ã™ã€‚
ãƒã‚§ãƒƒã‚¯å†…å®¹ã¯[CODECHECK.md](https://github.com/pia-corp/test/blob/main/doc/markup_rule.md)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```bash
npm run linter
```

### ã‚µã‚¤ãƒˆã®å¥å…¨æ€§

Googleã®`Lighthouse`ã‚’ä½¿ã„**èª­ã¿è¾¼ã¿æ™‚é–“**ã€**ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ€§**ã€**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¦–è´çš„å®‰å…¨æ€§**ã«ã¤ã„ã¦è©•ä¾¡ã—ã¾ã™ã€‚
è©•ä¾¡ã¯ãƒ–ãƒ¬ãŒç”Ÿã˜ã‚‹ãŸã‚3å›ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã—ãŸä¸­å¤®å€¤ã§åˆ¤æ–­ã—ã¦ã„ã¾ã™ã€‚
Pushå‰ã«ãƒ†ã‚¹ãƒˆã—ä¸€å®šã®è©•ä¾¡ä»¥ä¸Šã¨ãªã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚

ğŸ”´ï¼šä¿®æ­£å¿…é ˆã€ğŸŸ ï¼šå¿…è¦ã«å¿œã˜ã¦ä¿®æ­£ã€ğŸŸ¢ï¼šå•é¡Œãªã— ã§ã™ã€‚

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

HTMLã€JavaScriptã€CSSãªã©ã¯ã€€`public`ãƒ•ã‚©ãƒ«ãƒ€ã«ä½œæˆã—ã¦ãã ã•ã„ã€‚

```sh
â””â”€â”€ project/
    â”œâ”€â”€ .github/
    â”œâ”€â”€ .next/
    â”œâ”€â”€ doc/
    â”œâ”€â”€ out/
    â”œâ”€â”€ pages/
    â”œâ”€â”€ public/
    â”‚   â”œâ”€â”€ index.html
    â”‚   â”œâ”€â”€ sitemap.xml
    â”‚   â”œâ”€â”€ manifest.webmanifest
    â”‚   â””â”€â”€ contact/
    â”‚       â””â”€â”€ index.html
    â”œâ”€â”€ styles/
    â”œâ”€â”€ .gitignore
    â”œâ”€â”€ package.json
    â””â”€â”€ README.md
```

## ã‚µãƒ¼ãƒå´

```sh
â””â”€â”€ pc/
    â”œâ”€â”€ index.html
    â”œâ”€â”€ sitemap.xml
    â””â”€â”€ manifest.webmanifest
    â””â”€â”€ news/
        â””â”€â”€ â€»â€»â€»â€».html
```

- å¿…è¦ã«å¿œã˜ã¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚
- newsãƒ•ã‚©ãƒ«ãƒ€ã¯ãƒãƒ¼ã‚¸å¾Œã«è‡ªå‹•ãƒ“ãƒ«ãƒ‰ã•ã‚Œã¾ã™ã€‚ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã«ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã‹ãªã„ã§ãã ã•ã„ã€‚

# Code Sample

## Google Tag Manager

```javascript
1. ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€æ¬¡ã®ã‚ˆã†ã«ãƒšãƒ¼ã‚¸ã® <head> å†…ã®ãªã‚‹ã¹ãä¸Šã®ã»ã†ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-XXXXXXXX');</script>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-WD2QTHHH');</script>

2. é–‹å§‹ã‚¿ã‚° <body> ã®ç›´å¾Œã«ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’æ¬¡ã®ã‚ˆã†ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-XXXXXXXX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MWVZTTSB"height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
```

## microCMS

ãƒã‚¤ã‚¯ãƒ­CMS ã®ãŠçŸ¥ã‚‰ã›ä¸€è¦§ç”¨ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚å¿…è¦ã«å¿œã˜ã¦æ”¹å¤‰ã—ã¦ãã ã•ã„ã€‚

[å…¬å¼ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰](https://document.microcms.io/tutorial/javascript/javascript-getting-started)

### ã‚µãƒ³ãƒ—ãƒ«1

```javascript
<script src="https://unpkg.com/microcms-js-sdk@latest/dist/umd/microcms-js-sdk.js"></script>
<script>
  const { createClient } = microcms;

  const client = createClient({
    serviceDomain: 'service-domain', // service-domain ã¯ XXXX.microcms.io ã® XXXX éƒ¨åˆ†
    apiKey: 'api-key',
  })
  client.get({ endpoint: 'hello'}).then((res) => {
    document.querySelector('#text').textContent = res.text
  })
</script>
```

### ã‚µãƒ³ãƒ—ãƒ«2

```javascript
const API_KEY = 'XXXXX'; // APIã‚­ãƒ¼
const ENDPOINT = 'https://XXXXX.microcms.io/api/v1/news'; // microCMSã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
const TARGET_SELECTOR = '.news_list'; // è¡¨ç¤ºå…ˆã®è¦ç´ ã®ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼
const MAX_COUNT = 3; // è¡¨ç¤ºã™ã‚‹ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®æœ€å¤§æ•°

// æ—¥ä»˜ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹é–¢æ•°
function formatDate(date) {
  return `${date.getFullYear()}.${date.getMonth() + 1}.${date.getDate()}`;
}

// ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰HTMLã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°
function createNewsHtml(news) {
  const newsDate = formatDate(new Date(news.publishedAt));
  const newsTitle = news.title;
  const newsImage = news.image;
  const newsUrl = news.url;
  const isExternal = news.external;

  let newsHtml = '';

  if (newsUrl) {
    if (isExternal) {
      newsHtml = `
        <p>${newsDate}</p>
        <a href="${newsUrl}" title="${newsTitle}" target="_blank">${newsTitle}</a>
      `;
    } else {
      newsHtml = `
        <p>${newsDate}</p>
        <a href="${newsUrl}" title="${newsTitle}">${newsTitle}</a>
      `;
    }
  } else {
    newsHtml = `
      <p>${newsDate}</p>
      <p>${newsTitle}</p>
    `;
  }

  return newsHtml;
}

// ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã™ã‚‹é–¢æ•°
function fetchAndDisplayNews() {
  fetch(ENDPOINT, {
    headers: {
      'X-MICROCMS-API-KEY': API_KEY,
    },
  })
    .then((response) => response.json())
    .then((json) => {
      const newsData = json.contents;
      const targetElement = document.querySelector(TARGET_SELECTOR);
      const count = Math.min(MAX_COUNT, newsData.length);

      for (let i = 0; i < count; i++) {
        const newsHtml = createNewsHtml(newsData[i]);
        targetElement.insertAdjacentHTML('beforeend', newsHtml);
      }
    })
    .catch((error) => {
      console.error('Error fetching news:', error);
    });
}

// ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®å–å¾—ã¨è¡¨ç¤º
fetchAndDisplayNews();
```

### ãƒ–ãƒ©ãƒ³ãƒ‰ã‚µã‚¤ãƒˆç”¨

| é …ç›®     | å€¤                                     |
| -------- | -------------------------------------- |
| apiKey   |                                        |
| endpoint | https://faloom.microcms.io/api/v1/news |

### ã‚«ã‚¹ã‚¿ãƒ å¤‰æ•°

| å¤‰æ•°å      | å‹      | èª¬æ˜                                        | ã‚µãƒ³ãƒ—ãƒ«                   |
| ----------- | ------- | ------------------------------------------- | -------------------------- |
| id          | String  | ä½œæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã® IDã€‚                   | ag7iz3olfn                 |
| createdAt   | UTC     | åˆå›ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆã—ãŸæ—¥æ™‚ã€‚            | 2024-03-01T01:48:10.626Z   |
| updatedAt   | UTC     | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ›´æ–°ã—ãŸæ—¥æ™‚ã€‚                  | 2024-03-01T02:02:50.176Z   |
| publishedAt | UTC     | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å…¬é–‹ã—ãŸæ—¥æ™‚ã€‚                  | 2024-03-01T01:48:10.626Z   |
| revisedAt   | UTC     | å…¬é–‹çŠ¶æ…‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒæ›´æ–°ã•ã‚ŒãŸæ—¥æ™‚ã€‚      | 2024-03-01T02:02:50.176Z   |
| title       | String  | ã‚¿ã‚¤ãƒˆãƒ«                                    | ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¿ã‚¤ãƒˆãƒ«æ–‡å­—       |
| url         | String  | ãƒªãƒ³ã‚¯å…ˆã® URL                              | https://www.pia-corp.co.jp |
| image       | String  | https://document.microcms.io/image-api/size | https://xxxxxx/sample.png  |
| external    | boolean | å¤–éƒ¨ã‚µã‚¤ãƒˆã‹ã©ã†ã‹                          | true / false               |

â€»å®Ÿè£…æ™‚ã¯ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒ­ã‚°å‡ºåŠ›ã‚’å‰Šé™¤ã—ã‚µãƒ³ãƒ—ãƒ«ã¯å¿…è¦ã«å¿œã˜ã¦æ”¹å¤‰ã—ã¦ãã ã•ã„ã€‚

## ãŠå•ã„åˆã‚ã›ãƒšãƒ¼ã‚¸ã«ã¤ã„ã¦

SFTPãƒ­ã‚°ã‚¤ãƒ³å¾Œã€pc/contactãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®index.html
Smartyãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨ã€‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚°ã‚’è¨˜è¿°ã—ãŸindex.htmlã‚’ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚

### smartyå¤‰æ•°

| tag | å‹ | å€¤ |  |
| --- | --- | --- | --- |
| view_input | number | 0 or 1 | ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ç”»é¢ã‚’è¡¨ç¤º |
| view_confirm | number | 0 or 1 | ãƒ•ã‚©ãƒ¼ãƒ ç¢ºèªç”»é¢ã‚’è¡¨ç¤º |
| is_mail_send_completed | number | 0 or 1 | ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡å®Œäº†ç”»é¢ã‚’è¡¨ç¤º |

### é€ä¿¡å®Œäº†ç”»é¢ã«ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```jsx
{literal}<script>"use strict";history.pushState(null, null, location.href);window.addEventListener('popstate', (e) => {history.go(1);});</script>{/literal}
```

### contactãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®javascript

smartyã‚¿ã‚°å†…ã§javasrciptã‚’ä½¿ã†å ´åˆã¯{literal}ã§å›²ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### microCMSãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

https://document.microcms.io/

## æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—

ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ã¯ JSON-LD å½¢å¼ã§è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚

[æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—](https://developers.google.com/search/docs/appearance/structured-data/search-gallery?hl=ja)

[ãƒªãƒƒãƒãƒªã‚¶ãƒ«ãƒˆ ãƒ†ã‚¹ãƒˆ](https://search.google.com/test/rich-results?utm_source=support.google.com/webmasters/&utm_medium=referral&utm_campaign=7445569)
